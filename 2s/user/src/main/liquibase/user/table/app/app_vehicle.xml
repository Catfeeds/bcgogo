<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

    <changeSet author="lw" id="app_vehicle_1">
        <createTable tableName="app_vehicle">
            <column name="id" type="bigint"/>
            <column name="created" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="last_update" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="vehicle_vin" type="varchar(50)"/>
            <column name="mobile" type="varchar(50)"/>
            <column name="contact" type="varchar(100)"/>
            <column name="app_user_no" type="varchar(100)"/>
            <column name="status" type="varchar(50)"/>
            <column name="vehicle_no" type="varchar(50)"/>
            <column name="vehicle_model" type="varchar(50)"/>
            <column name="vehicle_model_id" type="bigint"/>
            <column name="vehicle_brand" type="varchar(50)"/>
            <column name="vehicle_brand_id" type="bigint"/>
            <column name="next_maintain_mileage" type="double"/>
            <column name="next_examine_time" type="bigint"/>
            <column name="next_insurance_time" type="bigint"/>
            <column name="next_maintain_time" type="bigint"/>
            <column name="oil_wear" type="double"/>
            <column name="mileage" type="double"/>
            <column name="report_time" type="bigint"/>
            <column name="engine_no" type="varchar(50)"/>
        </createTable>
        <addPrimaryKey tableName="app_vehicle" columnNames="id" constraintName="pk_app_vehicle"/>
        <createIndex tableName="app_vehicle" indexName="IDX_APPVEHICLE_USER_NO">
            <column name="app_user_no"/>
        </createIndex>
    </changeSet>
    <changeSet id="app_vehicle_2_zhangjuntao" author="zhangjuntao">
        <addColumn tableName="app_vehicle">
            <column name="current_mileage" type="double"/>
        </addColumn>
    </changeSet>


    <changeSet id="app_vehicle_3" author="lw">
      <!-- 用currentMileage代替 -->
      <dropColumn tableName="app_vehicle" columnName="mileage"/>

      <addColumn tableName="app_vehicle">
        <column name="instant_oil_wear" type="varchar(500)"/>
      </addColumn>
      <addColumn tableName="app_vehicle">
        <column name="oil_wear_per_hundred" type="varchar(500)"/>
      </addColumn>
      <addColumn tableName="app_vehicle">
        <column name="oil_mass" type="varchar(500)"/>
      </addColumn>
      <addColumn tableName="app_vehicle">
        <column name="engine_coolant_temperature" type="varchar(500)"/>
      </addColumn>
      <addColumn tableName="app_vehicle">
        <column name="battery_voltage" type="varchar(500)"/>
      </addColumn>
    </changeSet>

    <changeSet id="app_vehicle_4" author="zhangjuntao">
        <addColumn tableName="app_vehicle">
            <column name="is_default" type="varchar(50)"/>
        </addColumn>
    </changeSet>

    <changeSet id="app_vehicle_5" author="zhangjuntao">
        <addColumn tableName="app_vehicle">
            <column name="next_maintain_mileage_push_message_remind_times" type="int"/>
        </addColumn>
    </changeSet>

    <changeSet id="app_vehicle_6" author="zhangjuntao">
        <addColumn tableName="app_vehicle">
            <column name="regist_no" type="varchar(50)"/>
        </addColumn>
    </changeSet>

    <changeSet id="app_vehicle_7_sinYuQiu" author="sinYuQiu">
        <addColumn tableName="app_vehicle">
            <column name="current_mileage_last_update_time" type="bigint"/>
        </addColumn>
    </changeSet>

  <changeSet id="app_vehicle_8" author="lw">
    <addColumn tableName="app_vehicle">
      <column name="coordinate_lat" type="varchar(500)"/>
      <column name="coordinate_lon" type="varchar(500)"/>
    </addColumn>
  </changeSet>


  <changeSet id="app_vehicle_9_lw" author="lw">
    <addColumn tableName="app_vehicle">
      <column name="last_maintain_mileage" type="double"/>
      <column name="maintain_period" type="double"/>
    </addColumn>
  </changeSet>
    <changeSet id="app_vehicle_10_sinYuQiu" author="sinYuQiu">
    <addColumn tableName="app_vehicle">
      <column name="worst_oil_wear" type="double(20,2)"/>
      <column name="best_oil_wear" type="double(20,2)"/>
      <column name="avg_oil_wear" type="double(20,2)"/>
    </addColumn>
  </changeSet>

  <changeSet id="app_vehicle_11_sinYuQiu" author="sinYuQiu">
    <addColumn tableName="app_vehicle">
      <column name="last_obd_mileage" type="double(20,2)"/>
    </addColumn>
  </changeSet>

  <changeSet id="app_vehicle_12_lw" author="lw">
    <addColumn tableName="app_vehicle">
      <column name="juhe_city_name" type="varchar(500)"/>
      <column name="juhe_city_code" type="varchar(500)"/>
    </addColumn>
  </changeSet>

</databaseChangeLog>